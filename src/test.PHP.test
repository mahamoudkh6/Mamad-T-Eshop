// ...

$builder
    ->add('email', EmailType::class, [
        'attr' => [
            'class' => 'form-control',
            'minlength' => '2',
            'maxlength' => '180',
        ],
        'label' => 'Adresse email',
        'label_attr' => [
            'class' => 'form-label  mt-4'
        ],
        'constraints' => [
            new Assert\NotBlank(),
            new Assert\Length(['min' => 2, 'max' => 180])
        ]
    ])
    // Utilisation de RepeatedType
    ->add('plainPassword', RepeatedType::class, [
        'type' => PasswordType::class,
        'first_options' => [
            'attr' => [
                'class' => 'form-control'
            ],
            'label' => 'Mot de passe',
            'label_attr' => [
                'class' => 'form-label  mt-4'
            ]
        ],
        'second_options' => [
            'attr' => [
                'class' => 'form-control'
            ],
            'label' => 'Confirmation du mot de passe',
            'label_attr' => [
                'class' => 'form-label  mt-4'
            ]
        ],
        'invalid_message' => 'Les mots de passe ne correspondent pas.',
        'mapped' => false,
        'constraints' => [
            new NotBlank([
                'message' => 'Please enter a password',
            ]),
            new Length([
                'min' => 12,
                'minMessage' => 'Le mot de passe doit contenir au moins 12 caractères.',
                'max' => 60,
            ]),
            new Regex([
                'pattern' => '/^(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{12,}$/',
                'message' => 'Le mot de passe doit contenir au moins une majuscule, un chiffre et un caractère spécial.'
            ])
        ],
    ]);
// ...
